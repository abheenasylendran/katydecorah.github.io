---
title: Adventure Map
layout: no-container
---

<script src='https://api.tiles.mapbox.com/mapbox.js/{{site.mapboxjs}}/mapbox.js'></script>
<link href='https://api.tiles.mapbox.com/mapbox.js/{{site.mapboxjs}}/mapbox.css' rel='stylesheet' />

<div id="map" style="min-height: 350px; margin-top: -3.75em; margin-bottom: -4em;"></div>
<script>
L.mapbox.accessToken = '{{site.mapbox_token}}';
var map = L.mapbox.map('map', '{{site.mapbox_mapid}}');

var featureLayer = L.mapbox.featureLayer()
.loadURL('/map/adventures.geojson')
.addTo(map);

featureLayer.on('ready', function() {
  map.fitBounds(featureLayer.getBounds());
});

map.scrollWheelZoom.disable();

featureLayer.on('layeradd', function(e) {
  var marker = e.layer,
  feature = marker.feature;

  // Create custom popup content
  var popupContent =  '<a target="_blank" class="popup" href="' + feature.properties.url + '">' +
  '<img alt="'+ feature.properties.title +'+" style="max-width: 150px" src="' + feature.properties.image + '" /><h2 class="text-center">'+feature.properties.title+'</h2></a>';

  // http://leafletjs.com/reference.html#popup
  marker.bindPopup(popupContent,{
    minWidth: 200,
    closeButton: false
  });
});
</script>
